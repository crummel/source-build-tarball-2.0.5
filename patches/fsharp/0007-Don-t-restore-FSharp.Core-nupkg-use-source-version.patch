From 8dd96989b15d98404205314c84bd03e7d2874941 Mon Sep 17 00:00:00 2001
From: karajas <karajas@microsoft.com>
Date: Thu, 1 Feb 2018 17:50:11 -0500
Subject: [PATCH 7/7] Don't restore FSharp.Core nupkg, use source version

---
 src/buildtools/fslex/fslex.fsproj     | 2 ++
 src/buildtools/fssrgen/fssrgen.fsproj | 2 ++
 src/buildtools/fsyacc/fsyacc.fsproj   | 2 ++
 3 files changed, 6 insertions(+)

diff --git a/src/buildtools/fslex/fslex.fsproj b/src/buildtools/fslex/fslex.fsproj
index 9fba6aa..6fa6050 100644
--- a/src/buildtools/fslex/fslex.fsproj
+++ b/src/buildtools/fslex/fslex.fsproj
@@ -3,10 +3,12 @@
   <PropertyGroup>
     <TargetFramework>netcoreapp2.0</TargetFramework>
     <DefineConstants>INTERNALIZED_FSLEXYACC_RUNTIME;$(DefineConstant)</DefineConstants>
+    <DisableImplicitFSharpCoreReference>true</DisableImplicitFSharpCoreReference>
   </PropertyGroup>
 
   <ItemGroup>
     <Compile Include="fslex.fsx" />
+    <ProjectReference Include="../../buildfromsource/FSharp.Core/FSharp.Core.fsproj" />
   </ItemGroup>
 
 </Project>
diff --git a/src/buildtools/fssrgen/fssrgen.fsproj b/src/buildtools/fssrgen/fssrgen.fsproj
index d6d06d5..2e59140 100644
--- a/src/buildtools/fssrgen/fssrgen.fsproj
+++ b/src/buildtools/fssrgen/fssrgen.fsproj
@@ -3,10 +3,12 @@
   <PropertyGroup>
     <TargetFramework>netcoreapp2.0</TargetFramework>
     <DefineConstants>COMPILED;$(DefineConstant)</DefineConstants>
+    <DisableImplicitFSharpCoreReference>true</DisableImplicitFSharpCoreReference>
   </PropertyGroup>
 
   <ItemGroup>
     <Compile Include="fssrgen.fsx" />
+    <ProjectReference Include="../../buildfromsource/FSharp.Core/FSharp.Core.fsproj" />
   </ItemGroup>
 
 </Project>
diff --git a/src/buildtools/fsyacc/fsyacc.fsproj b/src/buildtools/fsyacc/fsyacc.fsproj
index 32a1d6f..2016977 100644
--- a/src/buildtools/fsyacc/fsyacc.fsproj
+++ b/src/buildtools/fsyacc/fsyacc.fsproj
@@ -3,10 +3,12 @@
   <PropertyGroup>
     <TargetFramework>netcoreapp2.0</TargetFramework>
     <DefineConstants>INTERNALIZED_FSLEXYACC_RUNTIME;$(DefineConstant)</DefineConstants>
+    <DisableImplicitFSharpCoreReference>true</DisableImplicitFSharpCoreReference>
   </PropertyGroup>
 
   <ItemGroup>
     <Compile Include="fsyacc.fsx" />
+    <ProjectReference Include="../../buildfromsource/FSharp.Core/FSharp.Core.fsproj" />
   </ItemGroup>
 
 </Project>
-- 
1.8.3.1

